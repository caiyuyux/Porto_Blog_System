{% extends "porto_admin/base.html" %}
{% block content %}

<script src="assets/porto_admin/vendor/autosize/autosize.js"></script>
<script src="assets/porto_admin/vendor/bootstrap-fileupload/bootstrap-fileupload.min.js"></script>

<section role="main" class="content-body">
    <header class="page-header">
        <h2>新增博文</h2>

        <div class="right-wrapper pull-right">
            <ol class="breadcrumbs">
                <li>
                    <a href="/">
                        <i class="fa fa-home"></i>
                    </a>
                </li>
                <li><span>Admin</span></li>
                <li><span>Post Edit</span></li>
            </ol>

            <a class="sidebar-right-toggle" data-open="sidebar-right"><i class="fa fa-chevron-left"></i></a>
        </div>
    </header>

    <!-- start: page -->
    <section class="content-with-menu content-with-menu-has-toolbar media-gallery">
        <div class="content-with-menu-container">
            <div class="inner-menu-toggle">
                <a href="#" class="inner-menu-expand" data-open="inner-menu">
                    Show Bar <i class="fa fa-chevron-right"></i>
                </a>
            </div>

            <menu id="content-menu" class="inner-menu" role="menu">
                <div class="nano">
                    <div class="nano-content">

                        <div class="inner-menu-toggle-inside">
                            <a href="#" class="inner-menu-collapse">
                                <i class="fa fa-chevron-up visible-xs-inline"></i><i class="fa fa-chevron-left hidden-xs-inline"></i> Hide Bar
                            </a>
                            <a href="#" class="inner-menu-expand" data-open="inner-menu">
                                Show Bar <i class="fa fa-chevron-down"></i>
                            </a>
                        </div>

                        <div class="inner-menu-content">

                            <hr class="separator" />

                            <div class="alert alert-info panel-body">
                                <strong>小贴士</strong>
                                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                <ul>
                                    <li>支持多种文本编辑模式</li>
                                    <li>可以自定义设置标签</li>
                                    <li>可以选择本地文件或者网络文件作为博文封面</li>
                                </ul>
                            </div>

                            <hr class="separator" />

                        </div>
                    </div>
                </div>
            </menu>
            <div class="inner-body mg-main">
                <div class="inner-toolbar clearfix">
                    <ul>
                        <li>
                            <a href="#" id="mgSelectAll"><i class="fa fa-check-square"></i> <span data-all-text="Markdown模式" data-none-text="WYSIWYG模式">Markdown模式</span></a>
                        </li>

                        <!--<li class="right" data-sort-source data-sort-id="media-gallery">-->
                            <!--<label>-->
                                <!--<input type="checkbox" value="">-->
                                <!--同步更新到博客-->
                            <!--</label>-->
                        <!--</li>-->
                    </ul>
                </div>


                <div class="row">
                    <div class="col-xs-12">
                        <section class="panel">
                            <div class="panel-body">
                                <form class="form-horizontal form-bordered">
                                    <div class="form-group">
                                        <div class="col-xs-12 col-md-6 col-lg-6">
                                            <input class="form-control" type="text" placeholder="请输入标题" required>
                                        </div>
                                        <div id="local" class="fileupload fileupload-new col-xs-12 col-md-5 col-lg-5" data-provides="fileupload">
                                            <div class="input-append">
                                                <div class="uneditable-input col-xs-6 col-md-6">
                                                    <i class="fa fa-file fileupload-exists"></i>
                                                    <span class="fileupload-preview"></span>
                                                </div>
                                                <span class="col-xs-6 col-md-6" style="padding: 0">
                                                    <span class="btn btn-default btn-file">
                                                        <span class="fileupload-exists">Change</span>
                                                        <span class="fileupload-new">上传封面</span>
                                                        <input id="file" type="file" />
                                                    </span>
                                                    <a href="#" class="btn btn-default fileupload-exists" data-dismiss="fileupload">Remove</a>
                                                </span>

                                            </div>
                                        </div>
                                        <div id="web" class="col-xs-12 col-md-5 col-lg-5" disabled hidden>
                                            <input id="url" type="url" class="form-control" placeholder="网络文件地址" required>
                                        </div>
                                        <div class="col-xs-2 col-md-1 col-lg-1">
                                            <div class="switch switch-sm switch-primary">
                                                <input type="checkbox" id="switch" data-plugin-ios-switch checked="checked" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group" style="height: auto">
                                        <div class="col-md-12" id="markdown_div">
                                            <textarea name="content" data-plugin-markdown-editor rows="15">
### Hello there
How are you?

I have bellow task for you :

Select from this text...
Click the bold on THIS WORD and make THESE ONE italic
Link GOOGLE to google.com
Test to insert image (and try to tab after write the image description)
Test Preview
And ending here... Click "List"

Enjoy!
                                            </textarea>
                                        </div>
                                        <div class="col-md-12" id="wys_div" hidden>
                                            <div class="summernote" data-plugin-summernote data-plugin-options='{ "height": 340, "codemirror": { "theme": "ambiance" } }'>Start typing...</div>
                                        </div>
                                    </div>
                                    <div class="form-inline">
                                        <!--<label for="tags-input-multiple" class="control-label">标签：</label>-->
                                        <div class="">
                                            <select id="tags-input-multiple" multiple data-role="tagsinput" data-tag-class="label label-primary">
                                                <option value="未定义标签">未定义标签</option>
                                            </select>
                                        </div>
                                        <input type="submit" class="btn btn-default btn-file pull-right" style="margin-top: 10px">
                                    </div>
                                </form>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- end: page -->
</section>
<script>
    //指示器
    var flag = 0;
    $('#switch').change(function () {
        if(flag==0){
            $('#file').attr('disabled',true);
            $('#local').hide();
            $('#url').attr('disabled',false);
            $('#web').show();
            flag=1;
        }else{
            $('#file').attr('disabled',false);
            $('#local').show();
            $('#url').attr('disabled',true);
            $('#web').hide();
            flag=0;
        }
    })
</script>
{% endblock %}
